angular.module('myApp.directives', [])
  .directive 'map', () ->
    console.log "<%= asset_path 'map.html'%>"
    restrict: 'E'
    templateUrl: "<%= asset_path 'map.html' %>";
    link: ($scope, $el, $attrs) ->
      $el[0].addEventListener "mousemove", ((evt) ->
        $scope.show_teams(evt.target.getAttribute("svgtext"))
      )