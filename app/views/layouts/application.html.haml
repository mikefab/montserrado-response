!!!
%html{'ng-app' => 'myApp'}
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %title Partners Map
    = stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true
    = javascript_include_tag 'application', 'data-turbolinks-track' => true
    = csrf_meta_tags


    / :javascript
    /   // 
    /   window.onload=function(){
    /   var x = document.getElementById("x"),
    /   y     = document.getElementById("y"),
    /   tx    = document.getElementById("tx"),
    /   dims  = document.getElementById("dims"),
    /   rect  = document.querySelector("svg");
      
    /   rect.addEventListener("mousemove", function(evt) 
    /   {
    /       dims.innerHTML = JSON.stringify(evt.target.getBBox()
    /   );
      
    /   var tar = evt.target;
    /   if(tar.tagName != "svg")
    /   {
    /       var m = evt.target.getScreenCTM();
    /       var abc = evt.target.getAttribute("svgtext");
    /       tx.innerHTML = abc;
    /       var p = document.querySelector("svg").createSVGPoint();
        
    /       p.x = evt.clientX; 
    /       p.y = evt.clientY;
         
    /       p = p.matrixTransform(m.rotate(-90,317320.99475,720037.432375).inverse());
    /       x.innerHTML = p.y;
    /       y.innerHTML = p.x*(-1);
    /   }
    /   else
    /   {
    /       x.innerHTML = '';
    /       dims.innerHTML='';
    /       y.innerHTML = '';
    /       tx.innerHTML = '';
    /   }
    /   }, false);
    /   }//  
      

  %body

    %nav#myNavbar.navbar.navbar-default.navbar-inverse.navbar-fixed-top{:role => "navigation"}
      / Brand and toggle get grouped for better mobile display
      .container-fluid
        .navbar-header
          %button.navbar-toggle{"data-target" => "#navbarCollapse", "data-toggle" => "collapse", :type => "button"}
            %span.sr-only Toggle navigation
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
          %a.navbar-brand{:href => "/"} Partner Map
        / Collect the nav links, forms, and other content for toggling
        #navbarCollapse.collapse.navbar-collapse
          %ul.nav.navbar-nav{class: 'pull-right'}
            %li
              - unless current_user
                = link_to 'login', new_user_session_path
              - else
                = link_to "log out", destroy_user_session_path, method: :delete
    %br
    %br
    %br
    .container-fluid
      = asset_path 'map.html'
      = yield


    :javascript
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-59199254-1', 'auto');
      ga('send', 'pageview');